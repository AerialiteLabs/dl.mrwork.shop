---
import Sidebar from "../components/Sidebar.astro";
import { getLinks } from "../data/links";
import { AstroFont } from "astro-font";
const links = getLinks();
---

<html lang="en">
  <head>
    <meta charset="utf-8">
	<meta property="og:title" content="Mr. Workshop's Download Server">
	<meta property="og:description" content="If they gave a prize for best downloads the winner would be him">
	<meta property="og:image" content="/preview.png">
	<meta property="og:url" content="https://dl.mrwork.shop/">
	<link rel="icon" type="image/png" href="/download.png">
	<link rel="stylesheet" href="/style.css">
	<meta name="viewport" content="width=device-width">
	<meta name="generator" content={Astro.generator}>
	<AstroFont
		config={[
			{
				name: "Terminus",
				src: [
					{
						weight: "400",
						style: "normal",
						path: "/Terminus.woff2"
					}
				],
				preload: true,
				display: "swap",
				selector: "body",
				fallback: "monospace",
			},
			{
				name: "Roboto Mono",
				src: [
					{
						weight: "400",
						style: "normal",
						path: "https://cdnjs.cloudflare.com/ajax/libs/uswds/3.13.0/fonts/roboto-mono/roboto-mono-v5-latin-regular.woff2"
					},
					{
						weight: "700",
						style: "normal",
						path: "https://cdnjs.cloudflare.com/ajax/libs/uswds/3.13.0/fonts/roboto-mono/roboto-mono-v5-latin-700.woff2"
					}
				],
				preload: true,
				display: "swap",
				fallback: "monospace",
			}
		]}
	/>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<title>Mr. Workshop's Download Server</title>
  </head>
  <body>
	<div class="navbar">
	<button class="nav" id="nav"><span></span><span></span><span></span></button>
	</div>

	<div class="overlay" id="overlay">
	<Sidebar/>
	</div>

	<script>
	const nav = document.getElementById("nav");
	const overlay = document.getElementById("overlay");

	function closeOverlay() {
		overlay!.classList.remove("active");
		nav!.classList.remove("active");
	}

	nav!.addEventListener("click", () => {
		overlay!.classList.toggle("active");
		nav!.classList.toggle("active");
	});

	overlay!.addEventListener("click", (e) => {
		if (e.target === overlay) closeOverlay();
	});

	document.addEventListener("keydown", (e) => {
		if (e.key === "Escape") closeOverlay();
	});
	</script>
	<img src="logo.png" width="16%">
    <h1>Mr. Workshop's Download Server</h1>
	<h2>Oh, there goes Mr. Workshop, There goes Mr. Grim<br>If they gave a prize for best downloads the winner would be him</h2>
	{links.map((link) => (
		!link.heading && (
			<button class="file" onclick={`window.location.href='${link.href}'`}>{link.label}</button>
		)
	))}
  </body>
</html>
